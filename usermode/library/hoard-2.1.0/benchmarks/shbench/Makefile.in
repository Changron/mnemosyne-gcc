TARGETS = shbench-hoard shbench

all: $(TARGETS)

clean:
	rm -f $(TARGETS)

DEFS = -D_REENTRANT

shbench-hoard:
	@CXX@ @CXXFLAGS@ $(DEFS) shbench1.cpp ../../libhoard.a @LIBTHREAD@ @LIBSCHED@ -o shbench-hoard

shbench-ptmalloc:
	@CXX@ @CXXFLAGS@ $(DEFS) ../../../allocators/ptmalloc/ptmalloc.o shbench1.cpp @LIBTHREAD@ -o shbench-ptmalloc


shbench-mtmalloc:
	@CXX@ @CXXFLAGS@ $(DEFS) shbench1.cpp @LIBTHREAD@ @LIBSCHED@ -lmtmalloc -o shbench-mtmalloc

shbench:
	@CXX@ @CXXFLAGS@ $(DEFS) shbench1.cpp @LIBTHREAD@ -o shbench

